<?xml version="1.0" encoding="windows-1256" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="FacilityVO"
  Version="12.1.2.66.68"
  BindingStyle="OracleName"
  
  PageIterMode="Full"
  InheritPersonalization="merge"
  FetchMode="FETCH_AS_NEEDED"
  AccessMode="RANGE_PAGING"
  RangeSize="40"
  
  
  
  CustomQuery="true">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
<ViewAccessor
    Name="FacTypeLOV"
    ViewObjectName="model.LOV.FacTypeLOV"
    RowLevelBinds="true"/>
  <ViewAccessor
    Name="FacilityLOV"
    ViewObjectName="model.LOV.FacilityLOV"
    RowLevelBinds="true"/>
  <ViewAccessor
    Name="lockedLOV1"
    ViewObjectName="model.LOV.lockedLOV"
    RowLevelBinds="true"/>
  <ListBinding
    Name="LOV_FacTypeId"
    ListVOName="FacTypeLOV"
    ListRangeSize="10"
    NullValueFlag="none"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="FacTypeId"/>
    </AttrArray>
    <AttrArray Name="AttrExpressions"/>
    <AttrArray Name="ListAttrNames">
      <Item Value="FacTypeId"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="FacTypeId"/>
      <Item Value="FacName"/>
    </AttrArray>
    <DisplayCriteria
      Hint="showAndExecute"/>
  </ListBinding>
  <ListBinding
    Name="LOV_SupCode"
    ListVOName="FacilityLOV"
    ListRangeSize="10"
    NullValueFlag="none"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="SupCode"/>
    </AttrArray>
    <AttrArray Name="AttrExpressions"/>
    <AttrArray Name="ListAttrNames">
      <Item Value="FacilityId"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="FacCode"/>
      <Item Value="FacName"/>
    </AttrArray>
    <DisplayCriteria
      Hint="showAndExecute"/>
  </ListBinding>
  <ListBinding
    Name="LOV_Islocked"
    ListVOName="lockedLOV1"
    ListRangeSize="-1"
    NullValueFlag="none"
    MRUCount="0">
    <AttrArray Name="AttrNames">
      <Item Value="Islocked"/>
    </AttrArray>
    <AttrArray Name="AttrExpressions"/>
    <AttrArray Name="ListAttrNames">
      <Item Value="id"/>
    </AttrArray>
    <AttrArray Name="ListDisplayAttrNames">
      <Item Value="value"/>
    </AttrArray>
    <DisplayCriteria/>
  </ListBinding>
  <SQLQuery><![CDATA[SELECT FacilityEO.FACILITY_ID,                  
       FacilityEO.FAC_CODE,                  
       FacilityEO.FAC_NAME,                  
       FacilityEO.FAC_TYPE_ID,                  
       FacilityEO.SUP_CODE,                  
       FacilityEO.FAC_CONTACT,                  
       FacilityEO.FAC_ADDRESS1,                  
       FacilityEO.FAC_ADDRESS2,                  
       FacilityEO.FAC_CITY,                  
       FacilityEO.FAC_STATE,                  
       FacilityEO.FAC_RESCODE,                  
       FacilityEO.FAC_PHONE,                  
       FacilityEO.FAC_FAX,                  
       FacilityEO.FIELD_DISPENSE,                  
       FacilityEO.MAX_MOS,                  
       FacilityEO.MIN_MOS,                  
       FacilityEO.ACTIVE,                  
       FacilityEO.WAREHOUSE,                  
       FacilityEO.HIGHEST_LV,                  
       FacilityEO.DISTRIBUTION_ROLE,                  
       FacTypeEO.FAC_NAME AS FAC_NAME1,                  
       FacTypeEO.FAC_TYPE_ID AS FAC_TYPE_ID1,                  
       FacilityEO.FAC_NAME AS FAC_NAME2,                  
       FacilityEO.FAC_CODE AS FAC_CODE1,                  
       FacilityEO1.FAC_NAME AS FAC_NAME3,                  
       FacilityEO1.FACILITY_ID AS FACILITY_ID1,                  
       FacilityEO.ISLOCKED,                  
       FacilityEO.LOCK_END_DATE,                  
       FacilityEO.LOCK_START_DATE,                  
       (                
       select distinct UPPER(w.wplace) from facility f, moh_mapping mp, mohcom.wplace w                 
where upper(f.fac_code) = upper(mp.log_code)                
and upper(mp.moh_code) = upper(w.wplace)                
and upper(f.fac_code)= UPPER(FacilityEO.FAC_CODE)    
and rownum = 1 
       ) AS MOH_CODE,              
       (              
      select distinct UPPER(w.LNAME) from facility f, moh_mapping mp, mohcom.wplace w                 
where upper(f.fac_code) = upper(mp.log_code)                
and upper(mp.moh_code) = upper(w.wplace)                
and upper(f.fac_code)= UPPER(FacilityEO.FAC_CODE) 
and rownum = 1 
       ) AS MOH_LNAME ,          
       (              
      select distinct (CASE  W.TYPE when 1 THEN 'Comprehensive' when 2 then 'Primary' when 3 then 'Preferral' when 6 then 'MCH' END) AS MOH_TYPE from facility f, moh_mapping mp, mohcom.wplace w                 
where upper(f.fac_code) = upper(mp.log_code)                
and upper(mp.moh_code) = upper(w.wplace)                
and upper(f.fac_code)= UPPER(FacilityEO.FAC_CODE)  
       ) AS MOH_TYPE  ,    
       (              
      select distinct WPLACE_TYPE AS MOH_TYPE from facility f, moh_mapping mp, mohcom.wplace w                 
where upper(f.fac_code) = upper(mp.log_code)                
and upper(mp.moh_code) = upper(w.wplace)                
and upper(f.fac_code)= UPPER(FacilityEO.FAC_CODE)  
and rownum = 1 
       ) AS MOH_TYPE_CODE      
FROM  FACILITY FacilityEO,  
FAC_TYPE FacTypeEO,  
FACILITY FacilityEO1                 
WHERE (FacilityEO.FAC_TYPE_ID = FacTypeEO.FAC_TYPE_ID(+))  
AND (FacilityEO.SUP_CODE = FacilityEO1.FACILITY_ID(+))]]></SQLQuery>
<EntityUsage
    Name="FacilityEO"
    Entity="model.Entity.FacilityEO"/>
  <EntityUsage
    Name="FacTypeEO"
    Entity="model.Entity.FacTypeEO"
    Association="model.Asso.FkFacilityFacTypeASSO"
    AssociationEnd="model.Asso.FkFacilityFacTypeASSO.FacType"
    SourceUsage="model.View.FacilityVO.FacilityEO"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false"
    JoinType="LEFT OUTER JOIN">
    <DesignTime>
      <AttrArray Name="_srcAttributes">
        <Item Value="model.Entity.FacilityEO.FacTypeId"/>
      </AttrArray>
      <AttrArray Name="_dstAttributes">
        <Item Value="model.Entity.FacTypeEO.FacTypeId"/>
      </AttrArray>
    </DesignTime>
  </EntityUsage>
  <EntityUsage
    Name="FacilityEO1"
    Entity="model.Entity.FacilityEO"
    Association="model.Asso.FkFacilitySuplierAsso"
    AssociationEnd="model.Asso.FkFacilitySuplierAsso.SupCodeFacility"
    SourceUsage="model.View.FacilityVO.FacilityEO"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false"
    JoinType="LEFT OUTER JOIN">
    <DesignTime>
      <AttrArray Name="_srcAttributes">
        <Item Value="model.Entity.FacilityEO.SupCode"/>
      </AttrArray>
      <AttrArray Name="_dstAttributes">
        <Item Value="model.Entity.FacilityEO.FacilityId"/>
      </AttrArray>
    </DesignTime>
  </EntityUsage>
  <EntityUsage
    Name="FacTypeEO1"
    Entity="model.Entity.FacTypeEO"
    Association="model.Asso.FkFacilityFacTypeASSO"
    AssociationEnd="model.Asso.FkFacilityFacTypeASSO.FacType"
    SourceUsage="model.View.FacilityVO.FacilityEO1"
    ReadOnly="true"
    Reference="true"
    DeleteParticipant="false"
    JoinType="LEFT OUTER JOIN">
    <DesignTime>
      <AttrArray Name="_srcAttributes">
        <Item Value="model.Entity.FacilityEO.FacTypeId"/>
      </AttrArray>
      <AttrArray Name="_dstAttributes">
        <Item Value="model.Entity.FacTypeEO.FacTypeId"/>
      </AttrArray>
    </DesignTime>
  </EntityUsage>
  <ViewAttribute
    Name="FacilityId"
    IsNotNull="true"
    PrecisionRule="true"
    EntityAttrName="FacilityId"
    EntityUsage="FacilityEO"
    AliasName="FACILITY_ID"
    IsUpdateable="false"/>
  <ViewAttribute
    Name="FacCode"
    PrecisionRule="true"
    EntityAttrName="FacCode"
    EntityUsage="FacilityEO"
    AliasName="FAC_CODE"/>
  <ViewAttribute
    Name="FacName"
    PrecisionRule="true"
    EntityAttrName="FacName"
    EntityUsage="FacilityEO"
    AliasName="FAC_NAME"/>
  <ViewAttribute
    Name="FacTypeId"
    PrecisionRule="true"
    EntityAttrName="FacTypeId"
    EntityUsage="FacilityEO"
    AliasName="FAC_TYPE_ID"
    LOVName="LOV_FacTypeId">
    <Properties>
      <SchemaBasedProperties>
        <CONTROLTYPE
          Value="input_text_lov"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="SupCode"
    PrecisionRule="true"
    EntityAttrName="SupCode"
    EntityUsage="FacilityEO"
    AliasName="SUP_CODE"
    LOVName="LOV_SupCode">
    <Properties>
      <SchemaBasedProperties>
        <CONTROLTYPE
          Value="input_text_lov"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="FacContact"
    PrecisionRule="true"
    EntityAttrName="FacContact"
    EntityUsage="FacilityEO"
    AliasName="FAC_CONTACT"/>
  <ViewAttribute
    Name="FacAddress1"
    PrecisionRule="true"
    EntityAttrName="FacAddress1"
    EntityUsage="FacilityEO"
    AliasName="FAC_ADDRESS1"/>
  <ViewAttribute
    Name="FacAddress2"
    PrecisionRule="true"
    EntityAttrName="FacAddress2"
    EntityUsage="FacilityEO"
    AliasName="FAC_ADDRESS2"/>
  <ViewAttribute
    Name="FacCity"
    PrecisionRule="true"
    EntityAttrName="FacCity"
    EntityUsage="FacilityEO"
    AliasName="FAC_CITY"/>
  <ViewAttribute
    Name="FacState"
    PrecisionRule="true"
    EntityAttrName="FacState"
    EntityUsage="FacilityEO"
    AliasName="FAC_STATE"/>
  <ViewAttribute
    Name="FacRescode"
    PrecisionRule="true"
    EntityAttrName="FacRescode"
    EntityUsage="FacilityEO"
    AliasName="FAC_RESCODE"/>
  <ViewAttribute
    Name="FacPhone"
    PrecisionRule="true"
    EntityAttrName="FacPhone"
    EntityUsage="FacilityEO"
    AliasName="FAC_PHONE"/>
  <ViewAttribute
    Name="FacFax"
    PrecisionRule="true"
    EntityAttrName="FacFax"
    EntityUsage="FacilityEO"
    AliasName="FAC_FAX"/>
  <ViewAttribute
    Name="FieldDispense"
    PrecisionRule="true"
    EntityAttrName="FieldDispense"
    EntityUsage="FacilityEO"
    AliasName="FIELD_DISPENSE"/>
  <ViewAttribute
    Name="MaxMos"
    PrecisionRule="true"
    EntityAttrName="MaxMos"
    EntityUsage="FacilityEO"
    AliasName="MAX_MOS"/>
  <ViewAttribute
    Name="MinMos"
    PrecisionRule="true"
    EntityAttrName="MinMos"
    EntityUsage="FacilityEO"
    AliasName="MIN_MOS"/>
  <ViewAttribute
    Name="Active"
    PrecisionRule="true"
    EntityAttrName="Active"
    EntityUsage="FacilityEO"
    AliasName="ACTIVE"/>
  <ViewAttribute
    Name="Warehouse"
    PrecisionRule="true"
    EntityAttrName="Warehouse"
    EntityUsage="FacilityEO"
    AliasName="WAREHOUSE"/>
  <ViewAttribute
    Name="HighestLv"
    PrecisionRule="true"
    EntityAttrName="HighestLv"
    EntityUsage="FacilityEO"
    AliasName="HIGHEST_LV"/>
  <ViewAttribute
    Name="DistributionRole"
    PrecisionRule="true"
    EntityAttrName="DistributionRole"
    EntityUsage="FacilityEO"
    AliasName="DISTRIBUTION_ROLE"/>
  <ViewAttribute
    Name="FacName1"
    PrecisionRule="true"
    EntityAttrName="FacName"
    EntityUsage="FacTypeEO"
    AliasName="FAC_NAME1"/>
  <ViewAttribute
    Name="FacTypeId1"
    IsUpdateable="false"
    PrecisionRule="true"
    EntityAttrName="FacTypeId"
    EntityUsage="FacTypeEO"
    AliasName="FAC_TYPE_ID1"/>
  <ViewAttribute
    Name="FacName2"
    PrecisionRule="true"
    EntityAttrName="FacName"
    EntityUsage="FacilityEO"
    AliasName="FAC_NAME2"/>
  <ViewAttribute
    Name="FacCode1"
    PrecisionRule="true"
    EntityAttrName="FacCode"
    EntityUsage="FacilityEO"
    AliasName="FAC_CODE1"/>
  <ViewAttribute
    Name="FacName3"
    PrecisionRule="true"
    EntityAttrName="FacName"
    EntityUsage="FacilityEO1"
    AliasName="FAC_NAME3">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.View.FacilityVO.FacName3_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="FacilityId1"
    IsUpdateable="false"
    PrecisionRule="true"
    EntityAttrName="FacilityId"
    EntityUsage="FacilityEO1"
    AliasName="FACILITY_ID1"/>
  <ViewAttribute
    Name="Islocked"
    PrecisionRule="true"
    EntityAttrName="Islocked"
    EntityUsage="FacilityEO"
    AliasName="ISLOCKED"
    LOVName="LOV_Islocked">
    <Properties>
      <SchemaBasedProperties>
        <CONTROLTYPE
          Value="radio"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="LockEndDate"
    PrecisionRule="true"
    EntityAttrName="LockEndDate"
    EntityUsage="FacilityEO"
    AliasName="LOCK_END_DATE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.View.FacilityVO.LockEndDate_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="LockStartDate"
    PrecisionRule="true"
    EntityAttrName="LockStartDate"
    EntityUsage="FacilityEO"
    AliasName="LOCK_START_DATE">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.View.FacilityVO.LockStartDate_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="mohCode"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="255"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="MOH_CODE"
    SQLType="VARCHAR"
    Expression="select 1 from dual">
    <DesignTime>
      <Attr Name="_diagramName" Value="WPLACE (MOH CODE)"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <AUTOSUBMIT
          Value="true"/>
        <LABEL
          ResId="model.View.FacilityVO.mohCode_LABEL"/>
        <TOOLTIP
          ResId="model.View.FacilityVO.mohCode_TOOLTIP"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="MohLname"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="1000"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="MOH_LNAME"
    Expression="MOH_LNAME"
    SQLType="VARCHAR"
    >
    <DesignTime>
      <Attr Name="_DisplaySize" Value="1000"/>
      <Attr Name="_diagramName" Value="WPLACE NAME - EN"/>
    </DesignTime>
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="model.View.FacilityVO.MohLname_LABEL"/>
        <TOOLTIP
          ResId="model.View.FacilityVO.MohLname_TOOLTIP"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="MohType"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="13"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="MOH_TYPE"
    Expression="MOH_TYPE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="13"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="MohTypeCode"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="MOH_TYPE_CODE"
    Expression="MOH_TYPE_CODE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="5"/>
    </DesignTime>
  </ViewAttribute>
  <AttrArray Name="KeyAttributes">
    <Item Value="FacilityId"/>
  </AttrArray>
  <ViewLinkAccessor
    Name="CtfMain"
    ViewLink="model.VL.FkCtfMainVL"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
  <ViewLinkAccessor
    Name="Facility_2"
    ViewLink="model.VL.FkFacilitySuplierVL"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
  <ViewLinkAccessor
    Name="GroupOfFacilities"
    ViewLink="model.VL.FacGofVL"
    Type="oracle.jbo.RowIterator"
    IsUpdateable="false"/>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="model.modelBundle"/>
  </ResourceBundle>
</ViewObject>
